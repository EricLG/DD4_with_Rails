<div class="digg_pagination">
    <div class="page_info">
      <%= page_entries_info items, {model: "Objets magiques"} %>
    </div>
    <%= will_paginate items, :container => false %>
</div>

<div class="table-responsive">
  <table  class="table table-striped table-bordered table-hover">
    <tr>
      <th class="col-sm-1"><%= t('magic.name')            %></th>
      <% if @kind == 'weapons' %>
        <th class="col-sm-1"><%= t('common.weapon_groups')  %></th>
      <% elsif @kind == 'armors' %>
        <th class="col-sm-1"><%= t('common.armor_categories')%></th>
      <% elsif @kind == 'implements' %>
        <th class="col-sm-1"><%= t('magic.implement_group')    %></th>
      <% elsif @kind == 'gears' %>
        <th class="col-sm-1"><%= t('magic.gear.location') %></th>
      <% end %>
      <th class="col-sm-1"><%= t('magic.level_min')       %></th>
      <th class="col-sm-1"><%= t('magic.property')        %></th>
      <th class="col-sm-1"><%= t('magic.power')           %></th>
      <th class="col-sm-1"><%= t('magic.rarity')           %></th>
      <th class="col-sm-1"><%= t('magic.source')          %></th>
    </tr>
  <% items.each do |i| %>
    <tr>
      <td><%= link_to i.name, object_magic_item_path(i.id)  %></td>
      <% if @kind == 'weapons' %>
        <td><%= display_weapon_group(i.weapon_groups) %></td>
      <% elsif @kind == 'armors' %>
        <td><%= simple_format i.armor_categories.map(&:name).join("\n") %></td>
      <% elsif @kind == 'implements' %>
        <td><%= i.implement_group.try(:name) %></td>
      <% elsif @kind == 'gears' %>
        <td><%= i.location.name %> </td>
      <% end %>
      <td><%= i.level_min %> </td>
      <td><%= display_first_words i.property %> </td>
      <td><%= display_first_words i.power %> </td>
      <td><%= t("magic_item.rarity.#{i.rarity_name}")%> </td>
      <td><%= i.source.name %> </td>
      <!-- <td><%#= link_to 'x', object_magic_weapon_path(i.id), method: :delete %></td> -->
    </tr>
  <% end %><!-- Fin communs -->
  </table>
</div>

<div class="digg_pagination">
    <div class="page_info">
      <%= page_entries_info items, {model: "Objets magiques"} %>
    </div>
    <%= will_paginate items, :container => false %>
</div>
