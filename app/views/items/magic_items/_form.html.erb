<%= form_for [:items, @item], html: {:class => 'form-horizontal'} do |f| %>

  <%= input_text_form(f, :name,         MagicItem.human_attribute_name(:name)) %>
  <%= input_text_field_form(f, :description,  MagicItem.human_attribute_name(:description)) %>
  <div class="form-group">
    <%= f.label(:rarity, MagicItem.human_attribute_name('rarity'), :class=>"col-sm-4 control-label") %>
    <div class="col-sm-8">
      <%= f.select :rarity, options_for_select_with_enum(MagicItem, MagicItem.rarities, selected: @item.rarity), {:include_blank => ''}, {:multiple => false, :class=>"form-control"}  %>
    </div>
  </div>
  <%= input_select_form(f, :object_level_ids, options_from_collection_for_select(@levels, :id, :level, @item.object_level_ids), MagicItem.human_attribute_name(:object_level_ids), {multiple: true}) %>
  <%= input_select_form(f, :weapon_group_ids, options_from_collection_for_select(@weapon_groups, :id, :name,  @item.weapon_group_ids), MagicItem.human_attribute_name(:weapon_group_ids), {multiple: true}) %>
  <%= input_select_form(f, :armor_category_ids, options_from_collection_for_select(@armor_categories, :id, :name,  @item.armor_category_ids), MagicItem.human_attribute_name(:armor_category_ids), {multiple: true, size: 3}) %>
  <%= input_select_form(f, :implement_group_id, options_from_collection_for_select(@implement_groups, :id, :name,  @item.implement_group_id), MagicItem.human_attribute_name(:implement_group_id), {size: 3}) %>
  <%= input_select_form(f, :location_id, options_from_collection_for_select(@locations, :id, :name,  @item.location_id), MagicItem.human_attribute_name(:location_id), {blank: true}) %>
  <%= input_text_form(f, :alteration, MagicItem.human_attribute_name(:alteration)) %>
  <%= input_text_form(f, :critical, MagicItem.human_attribute_name(:critical)) %>
  <%= input_text_field_form(f, :property, MagicItem.human_attribute_name(:property)) %>
  <%= input_text_field_form(f, :power, MagicItem.human_attribute_name(:power)) %>
  <%= input_text_field_form(f, :special, MagicItem.human_attribute_name(:special)) %>
  <%= input_select_form(f, :source_id, options_from_collection_for_select(@sources, :id, :name, @item.source_id) , MagicItem.human_attribute_name(:source_id), {blank: true}) %>

  <%= submit_text_form(f, {add_another: !@item.persisted?}) %>

<% end %>
