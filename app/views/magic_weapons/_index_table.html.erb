<div>Filtre des armes magiques</div>
<div>
  <%= form_for @search, url: object_magic_weapons_path, method: :get do |form| %>
    <%= form.label(:name, "Nom:") %>
    <%= form.text_field(:name) %>

    <%= form.label(:object_levels, "Alteration max:") %>
    <%= form.text_field(:object_levels) %>

    <%= form.label(:weapon_groups, "Groupes d'arme:") %>
    <%= form.select :weapon_groups, options_from_collection_for_select(@weapon_groups, :id, :name),{}, {:multiple => true, :size => 5}  %>

    <%= form.submit("Search") %>
  <% end %>
</div>


  <div><p><%= will_paginate weapons %></p></div>
  <div class="table-responsive">
    <table  class="table table-striped table-bordered table-hover">
      <tr>
        <th class="col-sm-1"><%= t('magic.weapon.name')       %></th>
        <th class="col-sm-1"><%= t('common.weapon_groups')    %></th>
        <th class="col-sm-1"><%= t('magic.weapon.level_min')  %></th>
        <th class="col-sm-1"><%= t('magic.weapon.property')   %></th>
        <th class="col-sm-1"><%= t('magic.weapon.power')      %></th>
        <th class="col-sm-1"><%= t('magic.destroy')           %></th>
      </tr>
    <% weapons.each do |w| %>
      <tr>
        <td><%= link_to w.name, object_magic_weapon_path(w.id)  %></td>
        <td>
          <% w.weapon_groups.each do |g| %>
            <%= g.name %></br>
          <% end %>
        </td>
        <td><%= w.object_level_ids.min %> </td>
        <td><%= w.property %> </td>
        <td><%= w.power %> </td>
        <td><%= link_to 'x', object_magic_weapon_path(w.id), method: :delete %></td><!-- TODO: Mettre icone glyphicon glyphicon-remove-circle -->
      </tr>
    <% end %><!-- Fin communs -->
    </table>
  </div>
  <div><p><%= will_paginate weapons %></p></div>
